"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[829],{8829:(U,a,l)=>{l.r(a),l.d(a,{ForgetPasswordComponent:()=>q});var _=l(6814),s=l(95),e=l(4769),m=l(8282),u=l(1120);function f(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email is Required"),e.qZA())}function g(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"please enter valid email"),e.qZA())}function d(o,i){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,f,2,0,"p",8),e.YNc(2,g,2,0,"p",8),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.forgetForm.get("email"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.forgetForm.get("email"))||null==n.errors?null:n.errors.email)}}function p(o,i){1&o&&e._UZ(0,"i",9)}function c(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.forgetSubmit())}),e.TgZ(1,"h3"),e._uU(2,"Forget Password Form"),e.qZA(),e.TgZ(3,"div",2)(4,"label"),e._uU(5,"email"),e.qZA(),e._UZ(6,"input",3),e.YNc(7,d,3,2,"div",4),e.qZA(),e.TgZ(8,"button",5),e._uU(9,"send to email "),e.YNc(10,p,1,0,"i",6),e.qZA()()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.forgetForm),e.xp6(7),e.Q6J("ngIf",(null==(t=r.forgetForm.get("email"))?null:t.errors)&&(null==(t=r.forgetForm.get("email"))?null:t.touched)),e.xp6(1),e.Q6J("disabled",r.forgetForm.invalid),e.xp6(2),e.Q6J("ngIf",r.isLoading)}}function w(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"resetCode is Required"),e.qZA())}function F(o,i){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,w,2,0,"p",8),e.qZA()),2&o){const r=e.oxw(2);let t;e.xp6(1),e.Q6J("ngIf",null==(t=r.verifyForm.get("resetCode"))||null==t.errors?null:t.errors.required)}}function P(o,i){1&o&&e._UZ(0,"i",9)}function v(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.verifySubmit())}),e.TgZ(1,"h3"),e._uU(2,"Verify Form"),e.qZA(),e.TgZ(3,"div",2)(4,"label"),e._uU(5,"resetCode"),e.qZA(),e._UZ(6,"input",10),e.YNc(7,F,2,1,"div",4),e.qZA(),e.TgZ(8,"button",5),e._uU(9,"send To Versify"),e.YNc(10,P,1,0,"i",6),e.qZA()()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.verifyForm),e.xp6(7),e.Q6J("ngIf",(null==(t=r.verifyForm.get("resetCode"))?null:t.errors)&&(null==(t=r.verifyForm.get("resetCode"))?null:t.touched)),e.xp6(1),e.Q6J("disabled",r.verifyForm.invalid),e.xp6(2),e.Q6J("ngIf",r.isLoading)}}function x(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email is Required"),e.qZA())}function Z(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"please enter valid email"),e.qZA())}function h(o,i){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,x,2,0,"p",8),e.YNc(2,Z,2,0,"p",8),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.newPassForm.get("email"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.newPassForm.get("email"))||null==n.errors?null:n.errors.email)}}function T(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"newPassword is Required"),e.qZA())}function C(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"please enter valid newPassword"),e.qZA())}function I(o,i){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,T,2,0,"p",8),e.YNc(2,C,2,0,"p",8),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.newPassForm.get("newPassword"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.newPassForm.get("newPassword"))||null==n.errors?null:n.errors.pattern)}}function A(o,i){1&o&&e._UZ(0,"i",9)}function b(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.newPassSubmit())}),e.TgZ(1,"h1"),e._uU(2,"New Password Form"),e.qZA(),e.TgZ(3,"div",2)(4,"label"),e._uU(5,"email"),e.qZA(),e._UZ(6,"input",3),e.YNc(7,h,3,2,"div",4),e.qZA(),e.TgZ(8,"div",2)(9,"label"),e._uU(10,"Password"),e.qZA(),e._UZ(11,"input",11),e.YNc(12,I,3,2,"div",4),e.qZA(),e.TgZ(13,"button",5),e._uU(14,"New Password "),e.YNc(15,A,1,0,"i",6),e.qZA()()}if(2&o){const r=e.oxw();let t,n;e.Q6J("formGroup",r.newPassForm),e.xp6(7),e.Q6J("ngIf",(null==(t=r.newPassForm.get("email"))?null:t.errors)&&(null==(t=r.newPassForm.get("email"))?null:t.touched)),e.xp6(5),e.Q6J("ngIf",(null==(n=r.newPassForm.get("newPassword"))?null:n.errors)&&(null==(n=r.newPassForm.get("newPassword"))?null:n.touched)),e.xp6(1),e.Q6J("disabled",r.newPassForm.invalid),e.xp6(2),e.Q6J("ngIf",r.isLoading)}}let q=(()=>{class o{constructor(r,t){this._AuthService=r,this._Router=t,this.isLoading=!1,this.errMessage="",this.forgetFlag=!0,this.verifyFlag=!1,this.newPassFlag=!1,this.forgetForm=new s.cw({email:new s.NI(null,[s.kI.required,s.kI.email])}),this.verifyForm=new s.cw({resetCode:new s.NI(null,[s.kI.required])}),this.newPassForm=new s.cw({email:new s.NI(null,[s.kI.required,s.kI.email]),newPassword:new s.NI(null,[s.kI.required,s.kI.pattern(/^[A-Z].{6}/)])})}forgetSubmit(){this.isLoading=!0,this._AuthService.forgetAPI(this.forgetForm.value).subscribe({next:r=>{this.isLoading=!1,this.forgetFlag=!1,this.verifyFlag=!0},error:r=>{this.isLoading=!1,console.log(r),this.errMessage=r.error.message}})}verifySubmit(){this.isLoading=!0,this._AuthService.verifyAPI(this.verifyForm.value).subscribe({next:r=>{this.isLoading=!1,this.verifyFlag=!1,this.newPassFlag=!0},error:r=>{this.isLoading=!1,console.log(r),this.errMessage=r.error.message}})}newPassSubmit(){this.isLoading=!0,this._AuthService.newPassAPI(this.newPassForm.value).subscribe({next:r=>{this.isLoading=!1,this._Router.navigate(["/login"])},error:r=>{this.isLoading=!1,console.log(r),this.errMessage=r.error.message}})}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(m.e),e.Y36(u.F0))};static#r=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-forget-password"]],standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","email",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","bg-main","text-white",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin"],["formControlName","resetCode",1,"form-control"],["formControlName","newPassword",1,"form-control"]],template:function(t,n){1&t&&(e.YNc(0,c,11,4,"form",0),e.YNc(1,v,11,4,"form",0),e.YNc(2,b,16,5,"form",0)),2&t&&(e.Q6J("ngIf",n.forgetFlag),e.xp6(1),e.Q6J("ngIf",n.verifyFlag),e.xp6(1),e.Q6J("ngIf",n.newPassFlag))},dependencies:[_.ez,_.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return o})()}}]);