"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[932],{6666:(I,g,r)=>{r.r(g),r.d(g,{LoginComponent:()=>A});var _=r(6814),i=r(95),m=r(1120),n=r(4769),p=r(8282);function d(e,s){if(1&e&&(n.TgZ(0,"h1",10),n._uU(1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Oqu(t.errMessage)}}function f(e,s){1&e&&(n.TgZ(0,"p"),n._uU(1,"Email is Required"),n.qZA())}function c(e,s){1&e&&(n.TgZ(0,"p"),n._uU(1,"please enter valid email"),n.qZA())}function h(e,s){if(1&e&&(n.TgZ(0,"div",10),n.YNc(1,f,2,0,"p",11),n.YNc(2,c,2,0,"p",11),n.qZA()),2&e){const t=n.oxw();let l,o;n.xp6(1),n.Q6J("ngIf",null==(l=t.loginForm.get("email"))||null==l.errors?null:l.errors.required),n.xp6(1),n.Q6J("ngIf",null==(o=t.loginForm.get("email"))||null==o.errors?null:o.errors.email)}}function v(e,s){1&e&&(n.TgZ(0,"p"),n._uU(1,"password is Required"),n.qZA())}function Z(e,s){1&e&&(n.TgZ(0,"p"),n._uU(1,"please enter valid password"),n.qZA())}function T(e,s){if(1&e&&(n.TgZ(0,"div",10),n.YNc(1,v,2,0,"p",11),n.YNc(2,Z,2,0,"p",11),n.qZA()),2&e){const t=n.oxw();let l,o;n.xp6(1),n.Q6J("ngIf",null==(l=t.loginForm.get("password"))||null==l.errors?null:l.errors.required),n.xp6(1),n.Q6J("ngIf",null==(o=t.loginForm.get("password"))||null==o.errors?null:o.errors.pattern)}}function L(e,s){1&e&&n._UZ(0,"i",12)}let A=(()=>{class e{constructor(t,l){this._AuthService=t,this._Router=l,this.isLoading=!1,this.loginForm=new i.cw({email:new i.NI(null,[i.kI.required,i.kI.email]),password:new i.NI(null,[i.kI.required,i.kI.pattern(/^[A-Za-z0-9_@]{6}/)])})}loginSubmit(){this.isLoading=!0,this.loginForm.valid&&this._AuthService.loginAPI(this.loginForm.value).subscribe({next:t=>{console.log("insideLoginNext"),this.isLoading=!1,localStorage.setItem("userToken",t.token),this._AuthService.saveDataMethod(),this._Router.navigate(["/home"])},error:t=>{console.log("Error"),this.isLoading=!1,console.log(t),this.errMessage=t.error.message}})}static#n=this.\u0275fac=function(l){return new(l||e)(n.Y36(p.e),n.Y36(m.F0))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:21,vars:6,consts:[[1,"w-75","mx-auto","my-4"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","email",1,"form-control"],["formControlName","password",1,"form-control"],[1,"d-flex","justify-content-end"],["routerLink","/forgetPassword",1,"btn","text-main"],["type","submit",1,"btn","bg-main","text-white",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(l,o){if(1&l&&(n.TgZ(0,"div",0)(1,"h2"),n._uU(2,"Login Now : "),n.qZA(),n.YNc(3,d,2,1,"h1",1),n.TgZ(4,"form",2),n.NdJ("ngSubmit",function(){return o.loginSubmit()}),n.TgZ(5,"div",3)(6,"label"),n._uU(7,"email"),n.qZA(),n._UZ(8,"input",4),n.YNc(9,h,3,2,"div",1),n.qZA(),n.TgZ(10,"div",3)(11,"label"),n._uU(12,"Password"),n.qZA(),n._UZ(13,"input",5),n.YNc(14,T,3,2,"div",1),n.qZA(),n.TgZ(15,"div",6)(16,"a",7),n._uU(17," Forget Password All Process "),n.qZA(),n.TgZ(18,"button",8),n._uU(19,"Login "),n.YNc(20,L,1,0,"i",9),n.qZA()()()()),2&l){let a,u;n.xp6(3),n.Q6J("ngIf",o.errMessage),n.xp6(1),n.Q6J("formGroup",o.loginForm),n.xp6(5),n.Q6J("ngIf",(null==(a=o.loginForm.get("email"))?null:a.errors)&&(null==(a=o.loginForm.get("email"))?null:a.touched)),n.xp6(5),n.Q6J("ngIf",(null==(u=o.loginForm.get("password"))?null:u.errors)&&(null==(u=o.loginForm.get("password"))?null:u.touched)),n.xp6(4),n.Q6J("disabled",o.loginForm.invalid),n.xp6(2),n.Q6J("ngIf",o.isLoading)}},dependencies:[_.ez,_.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,m.rH]})}return e})()}}]);